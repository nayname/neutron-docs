---
title: "Deploy Smart Contracts"
description: "Get your CosmWasm contracts running on Neutron"
---

Deploy your CosmWasm smart contracts to Neutron and start building decentralized applications. This guide covers everything from contract compilation to deployment and interaction.

## Prerequisites

<Steps>
  <Step title="Development Environment">
    Ensure you have the necessary tools installed:
    
    ```bash
    # Install Rust
    curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
    rustup default stable
    rustup target add wasm32-unknown-unknown
    
    # Install cargo-generate
    cargo install cargo-generate
    ```
  </Step>
  
  <Step title="Get a Neutron Wallet">
    You'll need NTRN tokens to pay for deployment and transaction fees:
    
    - Set up [Keplr](https://www.keplr.app/) or [Leap](https://www.leapwallet.io/) wallet
    - Get NTRN from [app.neutron.org](https://app.neutron.org/)
    - Configure your wallet for Neutron network
  </Step>
  
  <Step title="Install Neutron CLI">
    ```bash
    # Download and install neutrond
    wget https://github.com/neutron-org/neutron/releases/download/v3.0.1/neutrond-linux-amd64
    chmod +x neutrond-linux-amd64
    sudo mv neutrond-linux-amd64 /usr/local/bin/neutrond
    
    # Verify installation
    neutrond version
    ```
  </Step>
</Steps>

## Contract Deployment

<Steps>
  <Step title="Create or Use Existing Contract">
    Start with a contract template or use your existing contract:
    
    ```bash
    # Create a new contract from template
    cargo generate --git https://github.com/CosmWasm/cw-template.git --name my-contract
    cd my-contract
    
    # Or use the Neutron template
    cargo generate --git https://github.com/neutron-org/neutron-template.git --name my-neutron-contract
    cd my-neutron-contract
    ```
  </Step>
  
  <Step title="Compile Your Contract">
    ```bash
    # Optimize the contract for deployment
    docker run --rm -v "$(pwd)":/code \
      --mount type=volume,source="$(basename "$(pwd)")_cache",target=/code/target \
      --mount type=volume,source=registry_cache,target=/usr/local/cargo/registry \
      cosmwasm/rust-optimizer:0.12.13
    ```
    
    This creates optimized `.wasm` files in the `artifacts/` directory.
  </Step>
  
  <Step title="Store Contract Code">
    Upload your contract code to Neutron:
    
    ```bash
    # Store the contract
    neutrond tx wasm store artifacts/my_contract.wasm \
      --from mykey \
      --chain-id neutron-1 \
      --gas auto \
      --gas-adjustment 1.5 \
      --fees 5000untrn
    ```
    
    Note the code ID from the transaction result.
  </Step>
  
  <Step title="Instantiate Contract">
    Create an instance of your contract:
    
    ```bash
    # Instantiate with init message
    neutrond tx wasm instantiate 1 \
      '{"owner":"neutron1...","name":"My Contract"}' \
      --label "my-contract-v1" \
      --from mykey \
      --chain-id neutron-1 \
      --gas auto \
      --gas-adjustment 1.5 \
      --fees 5000untrn
    ```
    
    Replace `1` with your actual code ID and adjust the init message.
  </Step>
</Steps>

## Interacting with Your Contract

<Steps>
  <Step title="Query Contract State">
    ```bash
    # Query contract info
    neutrond query wasm contract-state smart CONTRACT_ADDRESS \
      '{"get_config":{}}' \
      --chain-id neutron-1
    ```
  </Step>
  
  <Step title="Execute Contract Functions">
    ```bash
    # Execute a contract function
    neutrond tx wasm execute CONTRACT_ADDRESS \
      '{"update_config":{"new_owner":"neutron1..."}}' \
      --from mykey \
      --chain-id neutron-1 \
      --gas auto \
      --gas-adjustment 1.5 \
      --fees 5000untrn
    ```
  </Step>
</Steps>

## Neutron-Specific Features

### Interchain Queries (ICQ)

Query data from other blockchains:

```rust
use neutron_sdk::interchain_queries::get_registered_query;

// Register a query to get account balance from another chain
let query_msg = NeutronMsg::RegisterInterchainQuery {
    query_type: InterchainQueryType::KV(KVKey {
        path: "bank".to_string(),
        key: Binary::from(/* account key */),
    }),
    keys: vec![/* keys to query */],
    transactions_filter: "".to_string(),
    connection_id: "connection-0".to_string(),
    update_period: 10,
};
```

### Interchain Transactions (ICTX)

Execute transactions on other chains:

```rust
use neutron_sdk::interchain_txs::helpers::get_port_id;

// Submit a transaction to another chain
let msg = NeutronMsg::SubmitTx {
    connection_id: "connection-0".to_string(),
    interchain_account_id: "my-ica".to_string(),
    msgs: vec![/* cosmos messages */],
    memo: "".to_string(),
    timeout: 3600,
    fee: IbcFee {
        recv_fee: vec![],
        ack_fee: vec![coin(1000, "untrn")],
        timeout_fee: vec![coin(1000, "untrn")],
    },
};
```

### Cron Scheduling

Schedule automated executions:

```rust
// Handle cron execution
#[entry_point]
pub fn sudo(deps: DepsMut, env: Env, msg: SudoMsg) -> StdResult<Response> {
    match msg {
        SudoMsg::BeginBlocker {} => {
            // Execute scheduled logic
            Ok(Response::default())
        }
        _ => Err(StdError::generic_err("Unsupported sudo message")),
    }
}
```

## Best Practices

<Tip>
**Gas Optimization**: Use `--gas auto --gas-adjustment 1.5` for automatic gas estimation with a safety margin.
</Tip>

<Warning>
**Security**: Always audit your contracts before mainnet deployment. Consider using testnet for initial testing.
</Warning>

### Testing

```bash
# Run contract tests
cargo test

# Run integration tests
cargo test --test integration
```

### Upgrades

Plan for contract upgrades:

```bash
# Store new contract version
neutrond tx wasm store artifacts/my_contract_v2.wasm --from mykey

# Migrate existing contract
neutrond tx wasm migrate CONTRACT_ADDRESS NEW_CODE_ID \
  '{"migrate_msg":"data"}' \
  --from mykey
```

## Monitoring and Maintenance

<CardGroup cols={2}>
  <Card title="Contract State" icon="database">
    Monitor your contract's state and storage usage
  </Card>
  <Card title="Transaction History" icon="clock">
    Track contract interactions and performance
  </Card>
  <Card title="Error Handling" icon="exclamation-triangle">
    Implement proper error handling and logging
  </Card>
  <Card title="Upgrades" icon="arrow-up">
    Plan for contract upgrades and migrations
  </Card>
</CardGroup>

## Next Steps

<CardGroup cols={2}>
  <Card title="Neutron SDK" icon="code" href="/developers/sdk">
    Use the Neutron SDK for advanced features
  </Card>
  <Card title="Module Integration" icon="cubes" href="/developers/modules/overview">
    Integrate with Neutron's unique modules
  </Card>
  <Card title="Testing Guide" icon="vial" href="/developers/tutorials/integration-tests/overview">
    Write comprehensive tests for your contracts
  </Card>
  <Card title="Frontend Integration" icon="globe" href="/developers/tutorials/onboarding/part-3-web-app">
    Build a frontend for your application
  </Card>
</CardGroup> 