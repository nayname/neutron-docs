---
title: "Transfer Module"
icon: "arrow-right-arrow-left"
---

The Transfer module in Neutron is an enhanced wrapper around the standard IBC Transfer module that facilitates token transfers between IBC-connected blockchains. It extends the core functionality with contract detection and callback features to improve interchain token transfer reliability for smart contracts.

## Key Features

<CardGroup cols={2}>
  <Card title="Contract Detection" icon="search">
    Automatically detects if the sender is a smart contract using HasContractInfo() to apply contract-specific handling.
  </Card>
  <Card title="Enhanced Responses" icon="circle-info">
    Provides tracking information with sequence IDs and channel information to help correlate transfers with their results.
  </Card>
  <Card title="Sudo Callbacks" icon="reply">
    Calls back to sending contracts via Sudo mechanism when acknowledgements or timeouts are received.
  </Card>
  <Card title="IBC Compatibility" icon="link">
    Maintains full compatibility with standard IBC Transfer functionality while adding smart contract enhancements.
  </Card>
  <Card title="Packet Forwarding" icon="route">
    Supports relaying transfer packets through Neutron using memo-based packet forwarding middleware for multi-hop transfers.
  </Card>
  <Card title="IBC Hooks" icon="webhook">
    Enables calling smart contracts on Neutron via IBC transfers by supplying memo in the correct format for contract execution.
  </Card>
</CardGroup>

## Module Interactions

The Transfer module integrates with other Neutron modules:

- **IBC Core**: Routes packets between chains using the IBC protocol
- **Contract Manager**: Uses `PrepareSudoCallbackMessage()` for callback message preparation
- **Fee Refunder**: Uses fee locking (`LockFees()`) and distribution functions for packet processing

## Architecture

```mermaid
graph TD
    A[Smart Contract] -->|MsgTransfer| B[Transfer Module]
    B -->|IBC Packet| C[IBC Core]
    C -->|To Counterparty Chain| D[Remote Chain]
    D -->|Ack/Timeout| C
    C -->|Process Results| B
    B -->|Sudo Callback| A
    B -->|Fee Operations| E[Fee Refunder]
```

The Transfer module wraps the standard IBC transfer functionality, adding contract detection and callback mechanisms for smart contract integration.

## Advanced Transfer Features

### Packet Forwarding Middleware

Neutron supports relaying transfer packets through itself using memo-based packet forwarding middleware. This enables multi-hop transfers where Neutron acts as an intermediary chain.

**Example memo format for packet forwarding:**
```json
{
  "forward": {
    "receiver": "${receiver_address}",
    "port": "transfer", 
    "channel": "channel-0"
  }
}
```

<Note>
Packet forwarding is implemented as middleware in the IBC stack. The exact implementation details may be provided by external packet forwarding middleware integrated with Neutron's IBC setup.
</Note>

### IBC Hooks Integration

IBC Hooks allow you to call smart contracts on Neutron by sending IBC transfers to the chain with properly formatted memo fields. This enables cross-chain contract execution triggered by token transfers.

**Example memo format for contract calls:**
```json
{
  "wasm": {
    "contract": "${contract_address}",
    "msg": {
      "test_msg": {
        "return_err": false,
        "arg": "test"
      }
    }
  }
}
```

When using IBC Hooks, the transferred tokens are sent to the specified contract address, and the contract's entry point is called with the provided message.

## Standard IBC Transfer Features

The module maintains all capabilities of the standard IBC Transfer module:

- Transfer of tokens between IBC-connected chains
- Denomination trace for cross-chain tokens
- Automatic escrowing and releasing of tokens
- Support for transfer timeout and recovery
- Standard queries delegated to underlying IBC transfer implementation

For core IBC Transfer functionality, see the [IBC Transfer documentation](https://ibc.cosmos.network/v7/apps/transfer/overview/).

## Learn More

<CardGroup cols={3}>
  <Card title="How-to Guide" icon="wrench" href="/developers/modules/transfer/how-to">
    Learn how to integrate transfers with smart contracts and handle cross-chain token transfers
  </Card>
  <Card title="Module Architecture" icon="book" href="/developers/modules/transfer/explanation">
    Understand the wrapper implementation and contract integration mechanisms
  </Card>
  <Card title="Technical Reference" icon="file-code" href="/developers/modules/transfer/reference">
    View technical specifications and message formats
  </Card>
</CardGroup> 