---
title: "Reference"
description: "Technical reference for the Neutron Transfer module"
---

The Neutron Transfer module is a wrapper over the standard IBC Transfer module with additional features for smart contract integration.

## Key Differences from Standard IBC Transfer

### 1. Enhanced Transfer Response

Instead of an empty response, Neutron provides tracking information:

```protobuf
message MsgTransferResponse {
  // channel's sequence_id for outgoing ibc packet. Unique per a channel.
  uint64 sequence_id = 1;
  // channel src channel on neutron side transaction was submitted from
  string channel = 2;
}
```

This allows contracts to correlate transfers with their acknowledgements.

### 2. Contract Sudo Callbacks

Transfer results are delivered to sender contracts via `Sudo` calls. The specific callback message format is defined by the Contract Manager module through the `PrepareSudoCallbackMessage` function.

### 3. Fee Integration

```protobuf
message MsgTransfer {
  // Standard IBC Transfer fields...
  string source_port = 1;
  string source_channel = 2;
  cosmos.base.v1beta1.Coin token = 3;
  string sender = 4;
  string receiver = 5;
  ibc.core.client.v1.Height timeout_height = 6;
  uint64 timeout_timestamp = 7;
  string memo = 8;
  
  // Neutron addition: fees for IBC packet processing
  neutron.feerefunder.Fee fee = 9;
}
```

**Note:** Contracts must have sufficient coins on balance to cover the required fees.

### 4. Contract-Specific Validation

The Transfer module includes contract-specific validation:
- **For contracts**: Fee validation is required (`msg.Fee.Validate()`)
- **For non-contracts**: Fee validation is bypassed

### 5. Automatic Fee Locking

For contract senders, the module automatically:
- Locks fees using `FeeKeeper.LockFees()`
- Distributes fees on acknowledgement/timeout via `DistributeAcknowledgementFee()`/`DistributeTimeoutFee()`

## Error Handling

The Transfer module's error handling behavior:

- Failed Sudo calls are logged but do not block IBC packet processing
- The Transfer module continues execution regardless of Sudo call outcomes
- Specific error handling for Sudo calls is managed by the sudoKeeper implementation

## Standard IBC Transfer Features

For standard IBC transfer functionality (queries, denomination traces, parameters), refer to the [IBC Transfer documentation](https://ibc.cosmos.network/main/apps/transfer/overview.html).

## Key Concepts

- **Request Correlation**: Use `sequence_id` and `channel` from response to match with sudo callbacks
- **Fee Management**: Fees are validated and locked only for contract senders
- **Contract Integration**: Implement appropriate sudo handlers for transfer results 