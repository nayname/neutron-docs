---
title: "Reference"
description: "Technical reference for the Neutron Transfer module"
---

The Neutron Transfer module is a wrapper over the standard IBC Transfer module with additional features for smart contract integration.

## Key Differences from Standard IBC Transfer

### 1. Enhanced Transfer Response

Instead of an empty response, Neutron provides tracking information:

```protobuf
message MsgTransferResponse {
  // channel's sequence_id for outgoing ibc packet. Unique per a channel.
  uint64 sequence_id = 1;
  // channel src channel on neutron side transaction was submitted from
  string channel = 2;
}
```

This allows contracts to correlate transfers with their acknowledgements.

### 2. Contract Sudo Callbacks

Transfer results are delivered to sender contracts via `Sudo` calls with these message formats:

#### Success Response
```json
{
  "response": {
    "request_id": "channel-1-42",
    "data": "base64encodeddata"
  }
}
```

#### Error Response
```json
{
  "error": {
    "request_id": "channel-1-42",
    "error": "error message"
  }
}
```

#### Timeout Response
```json
{
  "timeout": {
    "request_id": "channel-1-42"
  }
}
```

The `request_id` format is `channel-{channelID}-{sequence}`.

### 3. Fee Integration

```protobuf
message MsgTransfer {
  // Standard IBC Transfer fields...
  string source_port = 1;
  string source_channel = 2;
  cosmos.base.v1beta1.Coin token = 3;
  string sender = 4;
  string receiver = 5;
  ibc.core.client.v1.Height timeout_height = 6;
  uint64 timeout_timestamp = 7;
  string memo = 8;
  
  // Neutron addition: fees for IBC packet processing
  neutron.feerefunder.Fee fee = 9;
}
```

**Note:** Contracts must have `fee.ack_fee + fee.timeout_fee + fee.recv_fee` coins on balance.

## Error Handling

- All sudo handler errors are suppressed by the contract manager middleware
- Sudo handlers are limited by the contract manager gas limit
- Failed sudo calls are recorded as failures that can be resubmitted

## Standard IBC Transfer Features

For standard IBC transfer functionality (queries, denomination traces, parameters), refer to the [IBC Transfer documentation](https://ibc.cosmos.network/main/apps/transfer/overview.html).

## Key Concepts

- **Request Correlation**: Use `sequence_id` and `channel` from response to match with sudo callbacks
- **Fee Management**: Ensure adequate balance for IBC fees before transfers
- **Error Recovery**: Failed sudo calls can be resubmitted via contract manager
- **Contract Integration**: Implement appropriate sudo handlers for transfer results 